{% load humanize %} {% if products %}
<div
  class="bg-white border border-brand-300 rounded-lg shadow-xl max-h-60 overflow-y-auto"
>
  {% for product in products %}
  <div
    class="p-3 hover:bg-brand-50 cursor-pointer border-b border-gray-100 last:border-0 transition-colors"
    hx-post="{% url 'add_product_to_sale' sale_id %}"
    hx-vals='{"product_id": "{{ product.id }}"}'
    hx-target="#sale-items"
    hx-swap="innerHTML"
  >
    <div class="font-bold text-gray-800 text-sm">{{ product.name }}</div>
    <div class="text-xs text-gray-500 flex items-center gap-2 mt-0.5">
      <span class="bg-brand-100 text-brand-700 px-2 py-0.5 rounded font-medium"
        >${{ product.price|intcomma }}</span
      >
      <span class="text-gray-400">Stock: {{ product.stock }}</span>
    </div>
  </div>
  {% endfor %}
</div>
{% elif search_query %}
<div
  class="bg-white border border-gray-200 rounded-lg shadow-xl p-3 text-gray-400 text-sm italic"
>
  ‚ùå No se encontraron productos
</div>
{% endif %}
